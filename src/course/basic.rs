use rand::Rng;

pub fn variables() {
    //rustä¸­çš„å˜é‡é»˜è®¤æ˜¯ä¸å¯å˜çš„
    let x = 5;
    println!("The value of x is {}.", x);
    //x = 6;
    //å¸¸é‡
    const MAX_POINTS: u32 = 100_000;

    /*
    éšè—ï¼ˆshadowï¼‰
    éšè—æœºåˆ¶ä¸mutçš„åŒºåˆ«åœ¨äºï¼šç”±äºé‡å¤ä½¿ç”¨letå…³é”®å­—ä¼šåˆ›å»ºå‡ºæ–°çš„å˜é‡ï¼Œ
    æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨å¤ç”¨å˜é‡åç§°çš„åŒæ—¶æ”¹å˜å®ƒçš„ç±»å‹
     */
    let x = x + 1;
    let x = x * 2;
    println!("The value of x is {}.", x);

    let spaces = "    ";
    let spaces = spaces.len();
    println!("The length of spaces is {}", spaces);

    /*
    æ ‡é‡ç±»å‹
    æ ‡é‡ç±»å‹æ˜¯å•ä¸ªå€¼ç±»å‹çš„ç»Ÿç§°ï¼Œrustå†…å»º4ç§åŸºç¡€çš„æ ‡é‡ç±»å‹ï¼šæ•´æ•°ï¼Œæµ®ç‚¹æ•°ï¼Œå¸ƒå°”å€¼ä»¥åŠå­—ç¬¦
     */

    //æ•´æ•°å­—é¢é‡
    let integer_literals = 98_222;
    let integer_literals = 0xff;
    let integer_literals = 0o77;
    let integer_literals = 0b1111_0000;
    let integer_literals = b'A';

    //æµ®ç‚¹æ•°ç±»å‹
    let float = 2.0;
    let float: f32 = 2.0;
    let r = 1 / 2;
    println!("The value of r is {}", r);

    //å¸ƒå°”ç±»å‹
    let t = true;
    let f: bool = false;

    //å­—ç¬¦ç±»å‹ï¼Œcharç±»å‹å æ®4ä¸ªå­—èŠ‚ï¼Œæ˜¯ä¸€ä¸ªunicodeæ ‡é‡å€¼
    let c = 'a';
    let c = 'ğŸ˜Š';
    println!("The value of c is {}", c);

    /*
    å¤åˆç±»å‹ï¼šå¤åˆç±»å‹å¯ä»¥è®²ä¸ç”¨ç±»å‹çš„å€¼ç»„åˆä¸ºä¸€ä¸ªç±»å‹ï¼›
    rustå†…ç½®äº†ä¸¤ç§åŸºç¡€çš„å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆtupleï¼‰ï¼Œæ•°ç»„ï¼ˆarrayï¼‰
     */

    //å…ƒç»„ç±»å‹
    //å…ƒç»„ç±»å‹å¯ä»¥å°†ä¸åŒç±»å‹çš„å¤šä¸ªå€¼ç»„åˆè¿›ä¸€ä¸ªå¤åˆç±»å‹ä¸­ï¼Œå…ƒç»„æ‹¥æœ‰ä¸€ä¸ªå›ºå®šçš„é•¿åº¦ï¼Œæ— æ³•åœ¨ç”Ÿå‘½ç»“æŸåå¢åŠ æˆ–å‡å°‘å…¶ä¸­çš„å…ƒç´ æ•°é‡
    let tup: (i32, f64, bool, char) = (500, 3.14, true, 'ğŸ’—');
    //ç”±äºä¸€ä¸ªå…ƒç»„è¢«è§†ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„å¤åˆå…ƒç´ ï¼Œå˜é‡tupè¢«ç»‘å®šåˆ°äº†æ•´ä¸ªå…ƒç»„ä¸Šï¼Œä¸ºäº†ä»å…ƒç»„ä¸­è·å¾—å•ä¸ªçš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…æ¥è§£æ„å…ƒç»„
    let (i, f, b, c) = tup;
    println!("The value of the tup's c is {}", c);
    //é™¤äº†ä¸Šé¢çš„è§£æ„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç´¢å¼•å¹¶ä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰æ¥è®¿é—®å…ƒç»„ä¸­çš„å€¼
    println!("The value of the tup's i is {}", tup.0);

    //æ•°ç»„
    //å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹çš„ï¼Œå¹¶ä¸”æ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œä¸€æ—¦ç”Ÿå‘½å°±æ— æ³•æ›´æ”¹
    let array: [i32; 5] = [1, 2, 3, 4, 5];
    //let array = [3,3,3,3,3]
    let array = [3; 5];
    //å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œæ•°ç»„é€šè¿‡ç´¢å¼•è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ 
    println!("{}", array[0])
}

/*
å‡½æ•°
rustä»£ç ä½¿ç”¨è›‡å½¢å‘½åæ³•æ¥è§„æ³•å‡½æ•°å’Œå˜é‡åç§°çš„é£æ ¼ï¼šåªä½¿ç”¨å°å†™çš„å­—æ¯è¿›è¡Œå‘½åï¼Œå¹¶ä»¥ä¸‹åˆ’çº¿åˆ†å‰²å•è¯
 */

//å‡½æ•°å‚æ•°
//åœ¨è‹±è¯­æŠ€æœ¯æ–‡æ¡£ä¸­ï¼Œå‚æ•°å˜é‡å’Œä¼ å…¥çš„å…·ä½“å‚æ•°å€¼æœ‰è‡ªå·±å¯¹åº”çš„åç§°parameterå’Œargument
//åœ¨å‡½æ•°ç­¾åä¸­ï¼Œå¿…é¡»æ˜¾ç¤ºåœ°å£°æ˜æ¯ä¸ªå‚æ•°çš„ç±»å‹
pub fn println_int(int: i32) {
    println!("The value of int is {}", int)
}

//å‡½æ•°ä½“ä¸­çš„è¯­å¥å’Œè¡¨è¾¾å¼
//rustæ˜¯ä¸€é—¨åŸºäºè¡¨è¾¾å¼çš„è¯­è¨€ï¼Œæ‰€ä»¥å®ƒå°†è¯­å¥ï¼ˆstatementï¼‰ä¸è¡¨è¾¾å¼ï¼ˆexpressionï¼‰åŒºåˆ«ä¸ºä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µ
//è¯­å¥æ˜¯æŒ‡é‚£äº›æ“ä½œä½†ä¸è¿”å›å€¼çš„æŒ‡ä»¤ let x = 6;
//è¡¨è¾¾å¼æ˜¯æŒ‡ä¼šè¿›è¡Œè®¡ç®—å¹¶äº§ç”Ÿä¸€ä¸ªå€¼ä½œä¸ºç»“æœçš„æŒ‡ä»¤
pub fn statement_expression() {
    //è¯­å¥æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥ä¸èƒ½å°†å…¶èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡
    //let x = (let y =6);
    let x = 6;
    //è¡¨è¾¾å¼
    let y = {
        let x = 3;
        x + 1
    };
    println!("The value of y is {}", y)
}

//å‡½æ•°çš„è¿”å›å€¼
//rustä¸­ä¸ç”¨ä¸ºè¿”å›å€¼å‘½åï¼Œä½†éœ€è¦åœ¨ç®­å¤´ç¬¦å·ï¼ˆ->ï¼‰çš„åé¢å£°æ˜å®ƒçš„ç±»å‹ï¼Œåœ¨rustä¸­å‡½æ•°çš„è¿”å›å€¼ç­‰åŒäºå‡½æ•°ä½“æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼
//ä¹Ÿå¯ä»¥ä½¿ç”¨returnå…³é”®å­—å¹¶æŒ‡å®šä¸€ä¸ªå€¼æ¥æå‰ä»å‡½æ•°ä¸­è¿”å›
pub fn sum(a: i32, b: i32) -> i32 {
    //a + b; å¦‚æœåŠ ä¸Šåˆ†å·ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼å°±ä¼šå˜æˆè¯­å¥å¯¼è‡´ç¼–è¯‘é”™è¯¯
    a + b
}

//æ§åˆ¶æµ
pub fn control_flow() {
    //ifè¡¨è¾¾å¼
    let intput = 5;
    let result = if intput < 6 {
        intput + 1
    } else {
        intput - 1
    };
    println!("The value of the result is {}", result);

    //å¾ªç¯
    //rustæä¾›äº†ä¸‰ç§å¾ªç¯ï¼šloopï¼Œwhileï¼Œfor
    let mut count = 0;
    loop {
        count += 1;
        if count > 100 {
            break;
        }
    }
    println!("The value of count is {}", count);

    while count != 200 {
        count += 1;
    }
    println!("The value of count is {}", count);

    let array = [rand::thread_rng().gen_range(1..100); 5];
    let mut index = 0;
    while index < array.len() {
        println!("The value of the index {} in array is {}.", index, array[index]);
        index += 1;
    }

    for element in array.iter() {
        println!("The value of the array is {}.", element);
    }
}
